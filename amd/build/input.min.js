define(["qtype_shortmath/visual-math-input"],function(e){return{initialize:()=>{let n=!1,t=$(".shortmath .answer input");t.removeClass("d-inline");let i=new e.Input(t,".answer");if(i.$input.hide(),i.$input.prop("readonly")?(n=!0,i.disable()):i.onEdit=((e,n)=>{e.val(n.latex()),console.log(e.val()),e.get(0).dispatchEvent(new Event("change"))}),t.val()&&i.field.write(t.val()),!n){new e.ControlList("#controls_wrapper").enableAll()}}}});