define(["jquery","qtype_shortmath/visual-math-input"],function(e,t){return{initialize:()=>{let n=!1,i=e(".shortmath .answer input");i.removeClass("d-inline");let l=new t.Input(i,".answer");if(l.$input.hide(),l.$input.prop("readonly")?(n=!0,l.disable()):l.onEdit=((e,t)=>{e.val("\\["+t.latex()+"\\]"),e.get(0).dispatchEvent(new Event("change"))}),i.val()&&l.field.write(i.val().slice(2,-2)),!n){new t.ControlList("#controls_wrapper").enableAll()}}}});