define ("qtype_shortmath/input",["exports","core/ajax","core/notification","qtype_shortmath/visual-math-input"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.initialize=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var f=function(a,e,f){var g=e,h=document.querySelector("#".concat(a));h.classList.remove("d-inline");var i=h.parentElement,j=new d.default.Input(h,i);j.$input.style.visibility="hidden";if(!e){j.onEdit=function(a,b){a.value=b.latex();a.dispatchEvent(new Event("change"))}}else{g=!0;j.disabled=!0}if(0<h.value.length){j.field.write(h.value)}if(!g){b.default.call([{methodname:"qtype_shortmath_get_template",args:{questionid:f}}])[0].done(function(a){var b=h.closest(".shortmath").querySelector(".controls_wrapper"),c=new d.default.ControlList(b),e=JSON.parse(a.template);if(null===e){c.defineDefault()}else{e.forEach(function(a){var b=a.button,d=a.expression;c.define(d,b,function(a){return a.write(d)})})}c.enableAll()}).fail(c.default.exception)}};a.initialize=f});
//# sourceMappingURL=input.min.js.map
