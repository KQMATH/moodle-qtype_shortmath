define ("qtype_shortmath/input",["exports","qtype_shortmath/visual-math-input","./api_helpers"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.initialize=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var i=a.apply(b,c);function g(a){d(i,e,f,g,h,"next",a)}function h(a){d(i,e,f,g,h,"throw",a)}g(void 0)})}}var f=function(){var a=e(regeneratorRuntime.mark(function a(d,e,f){var g,h,i,j,k,l,m;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:g=e;d=d.replace(":","\\:");h=document.querySelector("#".concat(d));h.classList.remove("d-inline");i=h.parentElement;j=new b.default.Input(h,i);j.rawInput.style.display="none";if(!e){j.onEdit=function(a,b){a.value=b.latex();a.dispatchEvent(new Event("change"))}}else{g=!0;j.disabled=!0}if(0<h.value.length){j.mathInput.write(h.value)}if(g){a.next=17;break}a.next=12;return(0,c.getShortmathEditorconfig)(parseInt(f));case 12:k=a.sent;l=h.closest(".shortmath").querySelector(".controls_wrapper");m=new b.default.ControlList(l);if(null===k){m.defineDefault()}else{k.forEach(function(a){var b=a.button,c=a.expression;m.define(c,b,function(a){return a.write(c)})})}m.enableAll();case 17:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}();a.initialize=f});
//# sourceMappingURL=input.min.js.map
