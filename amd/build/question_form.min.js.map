{"version":3,"sources":["../src/question_form.js"],"names":["init","questionid","containerId","select","document","querySelector","templateid","value","template","addSelectEventListener","selectElement","container","getElementById","addEventListener","innerHTML"],"mappings":"ghBAyBO,GAAMA,CAAAA,CAAI,4CAAG,WAAOC,CAAP,+FAEVC,CAFU,CAEI,oBAFJ,CAIVC,CAJU,CAIDC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAJC,CAKVC,CALU,CAKGH,CAAM,CAACI,KALV,MAMG,IAAf,GAAAD,CANY,iCAOK,+BAAyBL,CAAzB,CAPL,QAOZO,CAPY,+CASK,2BAAqBF,CAArB,CATL,SASZE,CATY,gBAWhB,aAAOA,CAAP,CAAiBN,CAAjB,EAEAO,CAAsB,CAACN,CAAD,CAASF,CAAT,CAAqBC,CAArB,CAAtB,CAbgB,yCAAH,uDAAV,C,SAiBP,QAASO,CAAAA,CAAT,CAAgCC,CAAhC,CAA+CT,CAA/C,CAA2DC,CAA3D,CAAwE,CACpE,GAAMS,CAAAA,CAAS,CAAGP,QAAQ,CAACQ,cAAT,CAAwBV,CAAxB,CAAlB,CACAQ,CAAa,CAACG,gBAAd,CAA+B,QAA/B,2BAAyC,sGAE/BP,CAF+B,CAElBI,CAAa,CAACH,KAFI,CAGrCI,CAAS,CAACG,SAAV,CAAsB,EAAtB,CAHqC,KAKlB,IAAf,GAAAR,CALiC,iCAMhB,+BAAyBL,CAAzB,CANgB,QAMjCO,CANiC,+CAQhB,2BAAqBF,CAArB,CARgB,SAQjCE,CARiC,gCAU/B,aAAOA,CAAP,CAAiBN,CAAjB,CAV+B,0CAAzC,GAYH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     qtype_shortmath/editor_manager\n * @package    qtype_shortmath\n * @author     Andr√© Storhaug <andr3.storhaug@gmail.com>\n * @copyright  2020 NTNU\n */\n\nimport { render } from \"qtype_shortmath/template_preview\";\nimport { getShortmathTemplate, getShortmathEditorconfig } from \"qtype_shortmath/api_helpers\";\n\nexport const init = async (questionid) => {\n    let template;\n    const containerId = \"template-container\";\n    \n    const select = document.querySelector('[name=\"editorconfig\"]');\n    const templateid = select.value;\n    if (templateid === \"-1\") {\n        template = await getShortmathEditorconfig(questionid);\n    } else {  \n        template = await getShortmathTemplate(templateid);\n    }\n    render(template, containerId);\n    \n    addSelectEventListener(select, questionid, containerId);\n};\n\n\nfunction addSelectEventListener(selectElement, questionid, containerId) {\n    const container = document.getElementById(containerId);\n    selectElement.addEventListener('change', async () => {\n        let template;\n        const templateid = selectElement.value;\n        container.innerHTML = \"\";\n\n        if (templateid === \"-1\") {\n            template = await getShortmathEditorconfig(questionid);\n        } else {  \n            template = await getShortmathTemplate(templateid);\n        }\n        await render(template, containerId);\n    });\n}\n"],"file":"question_form.min.js"}