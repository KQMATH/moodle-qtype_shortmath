{"version":3,"sources":["../src/editor_manager.js"],"names":["initialize","document","querySelectorAll","forEach","element","Popover","placement","trigger","offsetWidth","scrollWidth","delay","show","deleteButton","addEventListener","event","preventDefault","stopPropagation","currentTarget","templateId","parseInt","getAttribute","templateName","notification","Str","get_string","closest","remove","saveCancel"],"mappings":"ihBAwBA,uDAGA,O,q2BAEO,GAAMA,CAAAA,CAAU,4CAAG,8FACtBC,QAAQ,CAACC,gBAAT,CAA0B,kCAA1B,EAA8DC,OAA9D,CAAsE,SAAAC,CAAO,CAAI,CAC7E,GAAIC,UAAJ,CAAYD,CAAZ,CAAqB,CACjBE,SAAS,CAAE,KADM,CAEjBC,OAAO,CAAE,OAFQ,CAArB,CAIH,CALD,EAOAN,QAAQ,CAACC,gBAAT,CAA0B,gBAA1B,EAA4CC,OAA5C,CAAoD,SAAAC,CAAO,CAAI,CAC3D,GAAIA,CAAO,CAACI,WAAR,CAAsBJ,CAAO,CAACK,WAAlC,CAA+C,CAC3C,GAAIJ,UAAJ,CAAYD,CAAZ,CAAqB,CACjBM,KAAK,CAAE,CACHC,IAAI,CAAE,CADH,CAEHD,KAAK,CAAE,GAFJ,CADU,CAKjBJ,SAAS,CAAE,KALM,CAMjBC,OAAO,CAAE,OANQ,CAArB,CAQH,CACJ,CAXD,EAcAN,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8CC,OAA9C,CAAsD,SAAAS,CAAY,CAAI,CAClEA,CAAY,CAACC,gBAAb,CAA8B,OAA9B,4CAAuC,WAAMC,CAAN,6FACnCA,CAAK,CAACC,cAAN,GACAD,CAAK,CAACE,eAAN,GACMZ,CAH6B,CAGnBU,CAAK,CAACG,aAHa,CAI7BC,CAJ6B,CAIhBC,QAAQ,CAACf,CAAO,CAACgB,YAAR,CAAqB,SAArB,CAAD,CAJQ,CAK7BC,CAL6B,CAKdjB,CAAO,CAACgB,YAAR,CAAqB,WAArB,CALc,MAOnCE,SAPmC,gBAQzBC,CAAAA,CAAG,CAACC,UAAJ,CAAe,aAAf,CAA8B,iBAA9B,CARyB,oCASzBD,CAAAA,CAAG,CAACC,UAAJ,CAAe,oBAAf,CAAqC,iBAArC,CAAwDH,CAAxD,CATyB,qCAUzBE,CAAAA,CAAG,CAACC,UAAJ,CAAe,QAAf,CAAyB,MAAzB,CAVyB,oDAW/B,6GACU,8BAAwBN,CAAxB,CADV,QAEId,CAAO,CAACqB,OAAR,CAAgB,IAAhB,EAAsBC,MAAtB,GAFJ,wCAX+B,QAOtBC,UAPsB,yEAAvC,wDAgBH,CAjBD,EAtBsB,wCAAH,uDAAhB,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     qtype_shortmath/editor_manager\n * @package    qtype_shortmath\n * @author     Sushanth Kotyan <sushanthkotian.s@gmail.com>\n * @author     Simen Wiik <simenwiik@hotmail.com>\n * @author     Andr√© Storhaug <andr3.storhaug@gmail.com>\n * @copyright  2020 NTNU\n */\n\nimport notification from \"core/notification\";\nimport { deleteShortmathTemplate } from \"qtype_shortmath/api_helpers\";\nimport { Popover } from \"theme_boost/popover\";\nimport * as Str from 'core/str';\n\nexport const initialize = async () => {\n    document.querySelectorAll(\".edit-template, .delete-template\").forEach(element => {\n        new Popover(element, {\n            placement: \"top\",\n            trigger: \"hover\"\n        });\n    });\n\n    document.querySelectorAll(\".text-truncate\").forEach(element => {\n        if (element.offsetWidth < element.scrollWidth) {\n            new Popover(element, {\n                delay: {\n                    show: 0,\n                    delay: 300\n                },\n                placement: \"top\",\n                trigger: \"hover\"\n            });\n        }\n    });\n\n\n    document.querySelectorAll(\".delete-template\").forEach(deleteButton => {\n        deleteButton.addEventListener(\"click\", async event => {\n            event.preventDefault();\n            event.stopPropagation();\n            const element = event.currentTarget;\n            const templateId = parseInt(element.getAttribute('data-id'));\n            const templateName = element.getAttribute('data-name');\n\n            notification.saveCancel(\n                await Str.get_string('deltemplate', 'qtype_shortmath'),\n                await Str.get_string('deltemplateconfirm', 'qtype_shortmath', templateName),\n                await Str.get_string('delete', 'core'),\n                async function () {\n                    await deleteShortmathTemplate(templateId);\n                    element.closest(\"tr\").remove();\n                });\n        });\n    });\n};\n"],"file":"editor_manager.min.js"}